<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="skydh">
<meta property="og:type" content="website">
<meta property="og:title" content="learning, progress, future.">
<meta property="og:url" content="https://skydh.github.io/page/4/index.html">
<meta property="og:site_name" content="learning, progress, future.">
<meta property="og:description" content="skydh">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="learning, progress, future.">
<meta name="twitter:description" content="skydh">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://skydh.github.io/page/4/"/>





  <title>learning, progress, future.</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">learning, progress, future.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">skydh</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/21/工作中发现的代码不良习惯/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/21/工作中发现的代码不良习惯/" itemprop="url">工作中发现的代码不良习惯</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-21T11:36:28+08:00">
                2019-01-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>　　接口方法定义不用额外写public abstract,默认即可。</p>
<h2 id="spring注入属性"><a href="#spring注入属性" class="headerlink" title="spring注入属性"></a>spring注入属性</h2><p>　　我们约定了，当需要从配置文件中读取同一批的属性＞３个时，不要使用value来一个个注入，和springboot一样，将其批量放到一个类里面，然后调用。</p>
<pre><code>@Component
@ConfigurationProperties(prefix = &quot;rbapi.rabbitmq&quot;)
@Data
public class RbapiProperties {
       private String  queuename;
       private String  exchangename;
       private String  routingkey;

}
</code></pre><p>　　然后在需要用到这些属性的地方，注解注入这个bean即可。
　　 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/17/吾日三省吾身/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/17/吾日三省吾身/" itemprop="url">吾日三省吾身</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-17T10:15:14+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="why"><a href="#why" class="headerlink" title="why?"></a>why?</h2><p>　　很忧伤，同一级别年终考核，我是ｄ，领导开头就是级别不代表绝对公正性，然而我还是ｄ，一共ａｂｃｄｅｆ，６级，我在后面的0.5里面。</p>
<h2 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h2><p>　　自身能力不够强，需要改进，领导说的理由，你才来没多久，我们部门是非核心部门，能力不够全面，不仅仅是技术能力，还要人际关系处理，揣摩领导意思！学到了。能力要全面，这个确实是的，我觉得还要有，良好的沟通能力，说话节奏控制住。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/17/微服务猜想/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/17/微服务猜想/" itemprop="url">微服务猜想</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-17T09:48:25+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于代码拆分。"><a href="#关于代码拆分。" class="headerlink" title="关于代码拆分。"></a>关于代码拆分。</h2><h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><h4 id="优势："><a href="#优势：" class="headerlink" title="优势："></a>优势：</h4><p>　　1.解耦合，使得代码更加容易扩展升级。标准版的升级只要不是接口的变化，对其他服务影响为0.<br>　　2.领导提出的按图搜房，大量数据的汇总展示。我们维护一个数据源，易于分析，展示。<br>　　3.开放出人力成本，一个人可以维护一个或者多个微服务，极大的节约了人力成本。</p>
<h4 id="劣势："><a href="#劣势：" class="headerlink" title="劣势："></a>劣势：</h4><p>　　1.对开发要求高，以及重构成本。</p>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>　　1.整体思路。一个基础中心微服务+多个城市特色微服务。</p>
<p>　　2.基于标准版拆分出多个微服务。每个微服务提供粒子化的对外微服务。<br>　　1.首先，登录模块必须独立出来。作为一个独立的微服务，登录模块拆分出来。<br>　　思路如下：通过不同url访问前端，前端请求该微服务，服务返回token即可。带着该token访问其他微服务即可。<br>　　2.基本工具，基本字典的数据微服务<br>　　3.关于不同端的合同发布，备案，本质上是一个service实现的，可能存在部分字段差，这些可以放在一个微服务里面（同理这些具体业务也可以继续拆分为不同的微服务）更加粒子化。可以让备案，房源，做成对外提供服务的基础组件。<br>　　4.定时器，这个单独的工程可以直接拆到各个微服务里面，比如很多宽表的同步，个人觉得意义不是很大，可以优化。<br>　　3.多个城市特色微服务。一个地方城市就建立一个微服务，其开发工作就是调用基础中心对外的服务的拼装，需要什么就拿什么，就和堆积木一样。如此构成了一个遍布全国的微服务网络。这样服务就可以连起来了。数据也统一起来了。</p>
<h3 id="问题以及解决方案："><a href="#问题以及解决方案：" class="headerlink" title="问题以及解决方案："></a>问题以及解决方案：</h3><h4 id="1-数据库字段差异："><a href="#1-数据库字段差异：" class="headerlink" title="1.数据库字段差异："></a>1.数据库字段差异：</h4><p>　　方案1:中心数据库冗余存储一个字段json类型，可以冗余存储多个字段。<br>　　方案2：中心保存最重要的数据，特色城市在维护一个冗余表保存特色字段（存在分布式事务问题）</p>
<h4 id="2-流程差异，比如，特色城市里面是一证多房的问题，就要大改"><a href="#2-流程差异，比如，特色城市里面是一证多房的问题，就要大改" class="headerlink" title="2.流程差异，比如，特色城市里面是一证多房的问题，就要大改"></a>2.流程差异，比如，特色城市里面是一证多房的问题，就要大改</h4><p>　　方案1：基础中心产品评判这个功能是否普遍性较高，若是很高，加入到基础中心微服务里面，反之，特色微服务自己实现一遍，同时把数据也拼装到基础中心（差异太大，没办法，就是相当于重做了，没有的办法）。</p>
<h3 id="3-大量差异很小的工程。"><a href="#3-大量差异很小的工程。" class="headerlink" title="3.大量差异很小的工程。"></a>3.大量差异很小的工程。</h3><p>　　方案1：基础中心设计一个基于配置化的功能，开发在上面点击选择后，可以迅速生成一个简单的脚手架，加速开发，而不是纯粹的复制，减少了大量开发工作。</p>
<h3 id="4-新功能"><a href="#4-新功能" class="headerlink" title="4.新功能"></a>4.新功能</h3><p>　　如若有新的功能，可以由保准化产品定论是否标准化，标准化后再提供微服务调用。</p>
<p>后续新增。每周更新</p>
<h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><p>　　1.前端同学开发应该是基于antd组件的，可以建议开发一个界面设计器。界面设计器的目的是减少前端的开发量，将html和js分离，界面设计器的概念是我们在界面上配置界面展示如何。然后我们根据配置界面后得到的唯一标识符，只负责编写业务逻辑js代码，可以有效提高前端在新业务上开发的效率。</p>
<h2 id="公有云和私有云"><a href="#公有云和私有云" class="headerlink" title="公有云和私有云"></a>公有云和私有云</h2><p>　　我们可以使用混合云的思路和模式，很多对外城市开发的产品，大多数城市对安全要求很严谨。因此我们不可能将其作为一个微服务放到大的微服务集群里面，因为这是在公有云体系里面，这样安全存在问题，我们必须使用私有云服务体系，将当前这个城市需要的微服务，我们将其提取出来，放到一个私有云里面。然后将其组装为该城市需要的系统，如此既保证了安全的特性，又保证了服务的可用性。</p>
<h2 id="直接复制代码的缺陷"><a href="#直接复制代码的缺陷" class="headerlink" title="直接复制代码的缺陷"></a>直接复制代码的缺陷</h2><p>　　定制化存在这么一个问题，你提供的标准版是稳定的吗？第一可能存在bug,安全漏斗等问题，第二可能存在二次迭代更新，业务定制方也有特色开发，如此造成2个分流的分支，将来如何能合在一起呢？这也是我们公司目前的方案，所以我写了2篇文章来思考新的方案。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/17/定制化猜想/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/17/定制化猜想/" itemprop="url">定制化猜想</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-17T09:47:50+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="问题？"><a href="#问题？" class="headerlink" title="问题？"></a>问题？</h2><p>公司预定义一个标准化的saas服务。预先面向A公司（行业龙头，因此具有 一定规范度）提供标准化开发（产品与A公司专门业务人员沟通，提取出公 共化方案）。成功上线后，推广到其他公司b,c,d。发现其他公司的内部流程 算法，界面不适应于标准化版本。</p>
<h2 id="方案。"><a href="#方案。" class="headerlink" title="方案。"></a>方案。</h2><p>建立组织层级，建立一个微服务档案列表，不同集团对应不同层级同时和登 录信息绑定。对于存在差异的算法（计算公式，是否采用不同方案）等，界 面显示（字段，按钮）等，单线流程（a公司是否需要流程123,但是b公司需 要流程1,3）等，在需要修改的点，以及这个组织id,在档案里面进行配置，不 同组织不同的方案，然后代码读取档案里面的信息，根据档案里面的这些信 息来完成差异统一。这样我们就可以用一个标准化版本了。上述档案归产品 经理管，负责维护（重要） 　　有些公司对于样式，布局等要求频繁变化，我们可以推出一部分档案权 限给客户，让其自行进行配置选择展示效果。</p>
<h2 id="问题？-1"><a href="#问题？-1" class="headerlink" title="问题？"></a>问题？</h2><p>在开发中，我们发现一个线的流程太长了，比如开发Ａ功能，在Ａ功能界面 上需要但需要获取调用其他功能比如Ｂ的数据信息展示而这些数据信息却放 在其他微服务里面，我们也许会直接发送ajax请求其他微服务的信息，但是 存在几个问题（1.即时我们共用一个登陆系统，可以直接把登陆信息放到请 求头里面，可以直接访问到数据，但是这样不规范，A微服务前端访问到了B 微服务的后端，即使在一个微服务里面，我们直接访问其他功能的数据，这 样也不规范，也不好维护，万一这个接口修改了，修改的人也不知道到底多 少人调用了这个接口，怎么调用的等很多问题）</p>
<h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>参照这个功能解决上述问题。每个功能可以对外提供一个或者多个的数据接 口。 　　该功能结构主要包含下述几点： 　　１．一个包含增删改查的一个存储数据的界面。主要存放：该功能对外 提供的rest接口，需要展示的数据类型，界面展示风格（树表，列表，树， 主要这几个结构）。 　　２．一个前端组件：通过开发配置的信息，展示数据。并且前端也可以 获取数据等。 　　这样界面调用展示数据，更加利于维护。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/10/mysql 知识杂点/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/10/mysql 知识杂点/" itemprop="url">mysql 知识杂点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-10T14:45:51+08:00">
                2019-01-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="迅速短暂的提高性能"><a href="#迅速短暂的提高性能" class="headerlink" title="迅速短暂的提高性能"></a>迅速短暂的提高性能</h2><p>　　１．处理掉占着的但是不工作的连接。首先使用show processlist，但是不知道那些sleep的连接是否是事务外的，我们继续查询 information_schema库的innodb_trx表。select * from information_schema.innodb_trx\G,查看那些连接是在事务内的。<br>　　当我们断掉连接后，客户端不会立马知道，而是在第二个请求时才发现，连接断了。<br>　　２．减少连接过程的消耗，比如去掉安全校验。<br>　　３．索引没设计好，当要修改表结构时。可以采用如下方案。１，从库执行　set sql_log_bin=off,也就是不开启binlog,然后执行alter语句，主备切换，主库和上述从库一样的方案。</p>
<h2 id="为何mysql用了函数就无法使用索引了"><a href="#为何mysql用了函数就无法使用索引了" class="headerlink" title="为何mysql用了函数就无法使用索引了"></a>为何mysql用了函数就无法使用索引了</h2><p>　　B+树的快速定位能力，来源于同一层兄弟节点的有序性。当你使用函数时，在b+树的第一层就不知道如何是好了。对索引字段做函数操作，会破坏其有序性。<br>　　既然这样，对mysql来说，字符串和数字比较是将字符串转换为数字，因此你一个字符串索引，当你的查询条件是数字时，会自动加上函数，导致其，破坏其有序性，导致进行全索引扫描。</p>
<h2 id="为何临时表可以重名。"><a href="#为何临时表可以重名。" class="headerlink" title="为何临时表可以重名。"></a>为何临时表可以重名。</h2><p>　　１.临时表和内存表不一样的，临时表不全是内存表。但是临时表可以是内存表。<br>　　特点：<br>　　１．临时表可以和普通表同名。<br>　　２．创表语法为create temporaty table.　<br>　　３．临时表只能被创建他的session访问，对其他线程不可见。<br>　　４．在一个session里面遇到同名的临时表和普通表时，优先访问临时表。<br>　　原因：mysql创建一个frm文件保存表结构，这个文件的后缀是.frm，前缀是#sql{进程id}<em>{线程id}</em>序列号。因此对于mysql来说，其真实存储的文件名是不一样的。<br>　　在mysql内存里面，每个表对应一个key,这个key是唯一的，普通表和数据库+表名相关，临时表则多了一个线程id。因此对于mysql来说，每个session创建的临时表的内存key和物理表名都不一样。<br>　　在实现上，每个线程维护了一个临时表链表，每次session内操作表的时候，先遍历链表，检查是否存在这个名字的临时表，有，则优先执行。session结束，则删除这个临时表。<br>　　主从：<br>　　如果binlog的格式是statment/mixed,是会把临binlog里面。时表记录到binlog里面，但是如果是row则不会记录到里面。</p>
<h2 id="内存表"><a href="#内存表" class="headerlink" title="内存表"></a>内存表</h2><p>　　内存表的索引结构是hash结构，查询很快，但是加锁时表锁。在高可用也就是主从的情况下可能导致数据丢失，报错。</p>
<h2 id="主键自增系列"><a href="#主键自增系列" class="headerlink" title="主键自增系列"></a>主键自增系列</h2><p>　　在mysql5.7以及之前的版本，主键自增的值，保存在内存里面，没有持久化，每次重启后，第一次打开表的时候，都会查找出来最大的id,加一作为新的当前自增值。<br>　　在mysql8.0之后，这时就会将自增至的记录在了redolog中。重启时依靠redolog来恢复值。<br>　　策略：<br>　　１:插入数据id为0，null,未指定值，那么mysql就会将这个表当前的AUTO_INCREMENT插入到自增字段里面。<br>　　２．如果插入数据时，指定了id的值，那就用语句里面指定的值。同时有以下策略，如果指定的值，小于自增值，那么自增值不变，如果大于等于自增值，那么就需要更新自增值，使其大于某个值。策略如下：从 auto_increment_offset 开始，以 auto_increment_increment 为步长持续叠加，直到找到第一个大于 X 的值，作为新的自增值。其中auto_increment_offset默认是1，表示增长的幅度.<br>　　唯一键冲突，事务回滚可能导致主键自增不连续。（双一）。还有就是批量插入时，也可能导致主键不连续，因为批量插入时，为了效率，分配1,2,4指数式增长。即使分配的没有用完，也不会回滚。<br>　　mysql这么设计为了性能考虑。获取主键时，肯定要加锁2个session,A得到2，B得到3，B成功，A失败。如此的话，表设计会比较麻烦。<br>　　在mysql 5.1.22有了一个参数innodb_autoinc_lock_mode，默认是1，有三个值<br>　　０：一条语句申请自增锁，整个语句执行完才释放锁。<br>　　１：单插入语句，申请完就释放，多插入语句，整个执行完释放锁（因为不然可能导致主从存在问题，binlog是statement时，场景如下，sessionA 批量插入10,数据，sessionB插入1数据，可能sessionA的10数据不连续，但是对于binlog来说是顺序的，可能出现问题）。<br>　　２．所有都是申请完就释放。<br>　　因此建议使用2+binlogrow<br>　　ps:在未指定，null,0时，采用主键自增。<br>　　主键自增，int最大值为2/32 -1,如果到了最大值，继续插入会报错，主键冲突，因为它不会继续增加了。如果有可能，建议创建bigint unsigned。更大一些。<br>　　在mysql innodb里面，如果没有创建主键，那么创建一个不可见，长度为6个字节的row_id,innodb维护了一个全局的dict_sys_row_id,所有无主键的innodb表，每插入一行数据，都要将dict_sys_row_id值作为要插入数据的row_id,然后将这个值+1。<br>　　这个row_id的大小是6字节，最大值为2/48-1，当达到最大值时，会重新从0开始。可能存在rowid重复，那么就会新的值覆盖旧的值。覆盖数据意味着数据丢失，因此最好每个表都创建一个主键。</p>
<h2 id="Xid"><a href="#Xid" class="headerlink" title="Xid"></a>Xid</h2><p>　　redolog和binlog配合的时候有个字段叫做Xid，这个字段是用来对应一个个事务的，在mysql里面，维护了一个全局变量global_query_id,每次执行语句时，将它赋值给Query_id,然后给这个变量加1，如果当前语句时这个事务执行的第一条语句，那么mysql还会同时把query_id赋值给这个事务的Xid。这个全局变量是内存变量，重启后就清空，因此，同一个数据库里面，可能binlog里面存在相同的xid，但是重启之后，mysql会创建一个新的binlog文件，因此同一个binlog文件不会存在相同的xid</p>
<p>　　</p>
<h2 id="trx-id"><a href="#trx-id" class="headerlink" title="trx_id"></a>trx_id</h2><p>　　这个id大家都很熟了，和事务隔离相关，这个是innodb自己维护的，innodb维护了一个叫做max_try_id全局变量，每次申请值的时候，就会获取这个全局变量的当前值，然后将这个值+1；innodb只会在当前事务涉及到修改更新操作时才会分配trx_id。不给只读事务分配trx_id，直接默认为0，可以有效减少活跃事务表的大小，同时减少了trx_id的分配，变相提高了trx_id的吞吐量。max_try_id会持久化存储，重启也不会重置为0，因此存在运行时间足够久的事务中存在，后创建的事务id小于之前创建的事务id，造成脏读。当然这个值的最大值是2/48-1。一个mysqlqps50，持续18年就会出现这样的问题。</p>
<h2 id="thread-id"><a href="#thread-id" class="headerlink" title="thread_id"></a>thread_id</h2><p>　　thread_id是线程id，系统保存了一个全局变量 thread_id_counter,每新建一个连接，就将thread_id_counter赋值给这个线程变量。最大值是2/32-1，但是达到最大值后，就会从0开始，但是在mysql里面不会存在2个相同的值，因为分配thread_id时，做了去重处理，判断这个id是否存在于当前活跃线程id里面。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2019/01/07/cookie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/07/cookie/" itemprop="url">cookie</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-07T15:36:40+08:00">
                2019-01-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>　　　　Cookie不仅仅有名字和值两个属性，还有域（domain）、路径（path）等属性。其中，不同的域、不同的路径下可以存在同样名字的cookie。一般我们设置cookie的方法是用一个同样名字、一个值。这时就一定要搞清楚你要设置的cookie的域和路径，否则就会产生问题中的情况</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>　　１．name    Cookie的名称，Cookie一旦创建，名称便不可更改</p>
<p>　　２．value    Cookie的值。如果值为Unicode字符，需要为字符编码。如果值为二进制数据，则需要使用BASE64编码</p>
<p>　　３．maxAge    Cookie失效的时间，单位秒。如果为正数，则该Cookie在maxAge秒之后失效。如果为负数，该Cookie为临时Cookie，关闭浏览器即失效，浏览器也不会以任何形式保存该Cookie。如果为0，表示删除该Cookie。默认为-1。</p>
<p>　　４．secure    该Cookie是否仅被使用安全协议传输。安全协议。安全协议有HTTPS，SSL等，在网络上传输数据之前先将数据加密。默认为false。</p>
<p>　　５．path    Cookie的使用路径。如果设置为“/sessionWeb/”，则只有contextPath为“/sessionWeb”的程序可以访问该Cookie。如果设置为“/”，则本域名下contextPath都可以访问该Cookie。注意最后一个字符必须为“/”。</p>
<p>　　６．domain    可以访问该Cookie的域名。如果设置为“.google.com”，则所有以“google.com”结尾的域名都可以访问该Cookie。注意第一个字符必须为“.”。<br>     domain表示的是cookie所在的域，默认为请求的地址，如网址为www.test.com/test/test.aspx，那么domain默认为www.test.com。而跨域访问，如域A为t1.test.com，域B为t2.test.com，那么在域A生产一个令域A和域B都能访问的cookie就要将该cookie的domain设置为.test.com；如果要在域A生产一个令域A不能访问而域B能访问的cookie就要将该cookie的domain设置为t2.test.com
　　</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2018/12/28/大数据入坑001/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/28/大数据入坑001/" itemprop="url">大数据入坑001</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-28T11:26:26+08:00">
                2018-12-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p>　　Hadoop，spark等计算是以一天的大量的数据进行计算的，需要花费大量的时间，我们称之为大数据离线计算，批处理计算。<br>　　而同时也有实时计算的，比如storm,flink等在线计算出数据的，我们称之为大数据实时计算，流式计算。<br>　　业界的方案是批处理技术处理全量数据，而流式计算处理新增数据，而像Flink这样的计算引擎，是可以同时支持流式计算和批处理计算。我觉得这个很类似redis的主从同步策略。</p>
<h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h2><p>　　NOsql系统处理海量数据的存储和访问。比如HBAse,这个基于HDFS的NoSQL系统。</p>
<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>　　数据分析（Hive,Spark SQL等sql引擎），数据挖掘，机器学习。</p>
<h2 id="移动计算"><a href="#移动计算" class="headerlink" title="移动计算"></a>移动计算</h2><p>　　移动计算比移动数据更加划算。巨大的数据使得网络带宽无法满足。因此我们将数据采取HDFS分布式文件存储系统，将文件分为很多块。然后大数据引擎根据服务器的计算能力，在每台服务器上启动若干分布式任务进程，这些进程会等待给他们分配执行任务。第三步，使用该大数据引擎支持的编程模型编程，编程好后打包，用其引擎执行该程序包，首先解析程序要处理的数据输入路径，根据数据量大小，将数据分成若干片，每一个数据片分配一个任务去执行。第四步。任务执行进程接受到分配的任务后，检查自己是否有任务对应的程序包，没有就去下载，然后反射执行。</p>
<h2 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h2><p>　　RAID技术是将多个普通磁盘组成一个阵列，共同对外提供服务。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2018/12/25/eclipse发布工程到本地仓库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/25/eclipse发布工程到本地仓库/" itemprop="url">eclipse发布工程到本地仓库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-25T09:47:19+08:00">
                2018-12-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>　　想把项目里面的api工程发布到本地仓库，做了一个关于dubbo的demo，想测试下。</p>
<h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><p>　　在你要打包的工程的pom文件中，添加</p>
<pre><code>&lt;distributionManagement&gt;
    &lt;repository&gt;
        &lt;id&gt;localRepository&lt;/id&gt;
        &lt;url&gt;file:I:\repertory&lt;/url&gt;
    &lt;/repository&gt;
&lt;/distributionManagement&gt;
</code></pre><p>　　然后右键项目，点击run as / maven build,在goals里面输入 deploy -e即可将你想打包的工程发布到你的本地仓库里面。</p>
<p>　　如果你要上传到远程私服。那么pom文件添加：</p>
<pre><code>&lt;distributionManagement&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus-releases&lt;/id&gt;
         &lt;name&gt;NexusReleases&lt;/name&gt;
        &lt;url&gt;http://192.168.14.217:9091/nexus/content/repositories/releases/&lt;/url&gt;
    &lt;/repository&gt;
    &lt;snapshotRepository&gt;
        &lt;id&gt;nexus-snapshots&lt;/id&gt;
        &lt;name&gt;NexusSnapshots&lt;/name&gt;
        &lt;url&gt;http://192.168.14.217:9091/nexus/content/repositories/snapshots&lt;/url&gt;
    &lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;
</code></pre><p>　　然后在你的maven的setting文件里面添加：</p>
<pre><code>&lt;server&gt;
    &lt;id&gt;nexus-releases&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
     &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
&lt;server&gt;
    &lt;id&gt;nexus-snapshots&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
     &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
</code></pre><p>　　然后和上传本地的方法一样的操作步骤。<br>mvn install –settings c:\user\settings.xml </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2018/12/19/mysql order by解析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/19/mysql order by解析/" itemprop="url">mysql order by解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-19T09:17:40+08:00">
                2018-12-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="全字段排序"><a href="#全字段排序" class="headerlink" title="全字段排序"></a>全字段排序</h2><p>　　当我们要进行排序，mysql会为当前线程分配一个叫做sort_buffer的内存来进行排序。<br>　　mysql根据sql,依照索引，把要查出来的数据从数据中一行行取出满足条件的数据全部放进sort_buffer，也就是说所有要查出来的字段全部加到sort_buffer里面。从而进行排序。<br>　　其排序方式可能就在内部完成，也可能因为内存不够数据量那么大，就要使用磁盘临时文件排序。存在sort_buffer不大，同时数据量很大的情况下，选出的数据会存为多个文件，那么很显然，我们使用归并排序的思想，对每个文件先排序，排好序后，然后用一个堆（大顶树或者小顶树）作为内存中暂存，然后一个一个元素丢到排好序的文件里面。</p>
<h2 id="rowid-排序"><a href="#rowid-排序" class="headerlink" title="rowid 排序"></a>rowid 排序</h2><p>　　当我们要排序的单行数据很多的时候，那么在内存的总行数就会不多，因此我们可以通过设置一个参数</p>
<pre><code>SET max_length_for_sort_data = 16;
</code></pre><p>　　来使用另外一种算法来提高效率，这个参数就是单行数据字符数不超过１６才使用全字段排序算法。和前面的全字段排序不一样的是只把id+要排序的字段加到sort_buffer里面，其余的不加进去。这样sort_buffer里面放的行数就多了很多。然后排完序后，然后更急id从主键索引里面取出所有数据。</p>
<h2 id="思索"><a href="#思索" class="headerlink" title="思索"></a>思索</h2><p>　　这种排序体现了mysql的一种思想：如果内存够，就要多利用内存，尽量减少磁盘访问。第二个会回表，因此，默认和优先全字段排序，但是无论怎么说，mysql排序很消耗性能。<br>　　有个办法可以不用临时表，那就是联合索引把要排序的字段加到索引里面，那就默认有序了，我们查到一个就直接返回，直到遇到不满足条件的，或者limit到极限的。<br>　　或者更加优化，使用覆盖索引。</p>
<h2 id="临时表"><a href="#临时表" class="headerlink" title="临时表"></a>临时表</h2><p>　　前面说了，对于innodb来说最好使用全字段排序，因为没有最后的回表操作，减少了磁盘io，但是对于存在于内存的临时表来说，回表操作不是磁盘io，那么肯定是优先使用rowid排序。</p>
<pre><code>mysql&gt; select word from words order by rand() limit 3;
</code></pre><p>　　比如上面的语句就创建了临时表，使用的是memory引擎，且这个表是没有索引的。对于上面的语句来说，表有2个字段，一个字段是rand()函数生成一个随机的小数，一个就是word类型的字段。然后从表中将数据全部取出来后放到这个临时表里面。然后对这个字段排序，排序规则就是根据我们生成的这个随机数，然后我们取出这个随机数，以及位置信息放到sort_buffer里面，对随机数进行排序，然后取出数据即可。<br>　　这里的位置信息相当于innodb里面的主键，因为在memory这个存储引擎里面是没有类似索引这种操作的，他是类似于数组。<br>　　再比如，innodb里面，你删除了主键，那么innodb就会生成一个长度为6字节的rowid作为隐藏的主键。</p>
<p>　　不是所有的临时表都是内存表。这个要依据tmp_table_size这个参数来确定，默认是16m,如果大于这个值，那么就用磁盘临时表（innodb），否则则是内存临时表（memory）。</p>
<h2 id="新的算法"><a href="#新的算法" class="headerlink" title="新的算法"></a>新的算法</h2><p>　　在mysql5.6之后引用了优先队列算法。比如上面的语句只要查出前面3个，如果使用归并排序，就是对所有数据进行排序，但是我们只要查出前面3个，那么我们就可以使用一个堆结构来存，从而迅速获取到前面3个值。但是如果limit过多，那么就不用这个算法，那就使用归并算法，因为这种情况下使用优先队列算法就划不来了。</p>
<h2 id="排序很消耗性能，临时表更加消耗性能"><a href="#排序很消耗性能，临时表更加消耗性能" class="headerlink" title="排序很消耗性能，临时表更加消耗性能"></a>排序很消耗性能，临时表更加消耗性能</h2><p>　　我们要尽量减少创建临时表，和排序，若是没有办法，那只能如此了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://skydh.github.io/2018/12/14/select count优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="skydh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="learning, progress, future.">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/14/select count优化/" itemprop="url">mysql select count(*)优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-14T09:19:35+08:00">
                2018-12-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="不同存储引擎"><a href="#不同存储引擎" class="headerlink" title="不同存储引擎"></a>不同存储引擎</h2><p>　　在Myisam这个里面，每个表的总数据数额外存了起来，每次读取，直接获取这个值，效率很高。但是在innodb里面，就需要一行行遍历，为什么呢，因为innodb采用mvcc多版本并发控制机制，不同事物下，读取的数目可能不一致。</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>　　1.使用redis来缓存总量，在并发不是很高的情况下，没插入一条语句，redis就加一，删除一个数据，redis就减一。但是，插入数据和redis加一这操作不是原子操作，当要获取最新100条数据，和数据总量，如果有另外一个线程，在其中间执行，那么总量和最新数据无法保持一致。　　　<br>　　２．将其放在mysql的一个表里面。如此即可，按照和redis一样的策略。但是不存在上面说的问题，因为mysql的rr隔离性，只要开启一个事务，这2个操作就是原子的。</p>
<h2 id="效率"><a href="#效率" class="headerlink" title="效率"></a>效率</h2><p>   count(字段)&lt;count(主键 id)&lt;count(1)~count(*)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">skydh</p>
              <p class="site-description motion-element" itemprop="description">skydh</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">127</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">skydh</span>

  
</div>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
